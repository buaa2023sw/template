"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[247],{3247:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var a=s(998),n=s(1713),o=function(){var t=this,e=t._self._c;return e(a.Z,{attrs:{id:"main_page"}},[e("div",{staticClass:"login-info"},[t.login?[e("form",{staticClass:"login-info-form"},[e("p",[t._v("登陆界面")]),e("br"),e("span",[t._v("用户账号: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("br"),e("span",[t._v("用户密码: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("br"),e("br"),e("input",{staticClass:"submit",attrs:{type:"button",value:"提交"},on:{click:t.goHome}}),e("input",{staticClass:"submit",attrs:{type:"button",value:"前往注册"},on:{click:function(e){return t.changeLogin(!1,!0)}}})])]:t._e(),t.register?[e("form",{staticClass:"login-info-form"},[e("p",[t._v("注册界面")]),e("br"),e("span",[t._v("用户账号: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("br"),e("span",[t._v("用户密码: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("br"),e("span",[t._v("确认密码: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),e("br"),e("br"),e(n.Z,{attrs:{justify:"center"}}),e("br"),e("br"),e("input",{staticClass:"submit",attrs:{type:"button",value:"提交"},on:{click:t.goLogin}}),e("input",{staticClass:"submit",attrs:{type:"button",value:"已有账号"},on:{click:function(e){return t.changeLogin(!0,!1)}}})],1)]:t._e()],2)])},r=[],i={trim(t){return t.replace(/^\s*(.*?)\s*$/g,"$1")},getFilterArray(t){const e=new Set(t);return[...e]}},l={name:"login_View",data(){return{login:!1,register:!0,username:"",password:"",confirmPassword:"",res:!1,userId:0}},methods:{async goLogin(){i.trim(this.username)&&i.trim(this.password)?this.password!==this.confirmPassword?(window.alert("密码不一致，请重新输入"),this.password="",this.confirmPassword=""):(await this.addUserInfo(this.username,this.password),this.res?(this.register=!1,window.localStorage.setItem("loginStatus","login"),await window.localStorage.setItem("userId",this.userId),this.$store.commit("editUserId",this.userId),window.alert("注册成功，确定进入网站首页"),await this.add_log(),window.location.href="/#/user"):(window.alert("用户名重复，请再次尝试"),this.username="",this.password="",this.confirmPassword="")):window.alert("账号或密码不能为空")},changeLogin(t,e){this.login=t,this.register=e},async goHome(){i.trim(this.username)&&i.trim(this.password)?(await this.searchUserInfo(this.username,this.password),this.res?(this.login=!1,window.localStorage.setItem("loginStatus","login"),await window.localStorage.setItem("userId",this.userId),this.$store.commit("editUserId",this.userId),console.log(this.userId),await this.add_log(),window.alert("登陆成功，进入网站首页"),window.location.href="/#/user"):window.alert("账号或密码错误")):window.alert("账号或密码不能为空")},async addUserInfo(t,e){await this.axios.get("add_userInfo/",{params:{user_name:t,user_password:e}}).catch((function(t){console.log(t),this.res=!1})).then((t=>{if(0!==t.data.error_num)return this.res=!1,void console.log(t.data.msg);console.log(t.data.msg),this.userId=t.data.userId,this.res=!0}))},async add_log(){await this.axios.get("add_log/",{params:{user_id:this.$store.state.userId}}).catch((function(t){console.log(t)})).then((t=>{console.log(t)}))},async searchUserInfo(t,e){await this.axios.get("search_userInfo/",{params:{user_name:t,user_password:e}}).catch((function(s){console.log(s),console.log(t),console.log(e),this.res=!1})).then((t=>{if(0!==t.data.error_num)return this.res=!1,void console.log(t.data.msg);this.res=!0,console.log(t.data),this.userId=t.data.userId}))}},async created(){if("logout"===this.$route.params.loginStatus)return window.localStorage.removeItem("loginStatus"),void this.$store.commit("getLoginStatus",!1);const t=this.$store.state.loginStatus;t&&(this.login=!1,this.register=!1,await this.add_log(),window.alert("您已经是登录状态"),window.location.href="/#/user")}},u=l,c=s(3736),d=(0,c.Z)(u,o,r,!1,null,"d0dcc9d6",null),g=d.exports},1884:function(){},1713:function(t,e,s){s(7658),s(1884);var a=s(144),n=s(1767),o=s(5352);const r=["sm","md","lg","xl"],i=["start","end","center"];function l(t,e){return r.reduce(((s,a)=>(s[t+(0,o.jC)(a)]=e(),s)),{})}const u=t=>[...i,"baseline","stretch"].includes(t),c=l("align",(()=>({type:String,default:null,validator:u}))),d=t=>[...i,"space-between","space-around"].includes(t),g=l("justify",(()=>({type:String,default:null,validator:d}))),p=t=>[...i,"space-between","space-around","stretch"].includes(t),m=l("alignContent",(()=>({type:String,default:null,validator:p}))),f={align:Object.keys(c),justify:Object.keys(g),alignContent:Object.keys(m)},w={align:"align",justify:"justify",alignContent:"align-content"};function h(t,e,s){let a=w[t];if(null!=s){if(e){const s=e.replace(t,"");a+=`-${s}`}return a+=`-${s}`,a.toLowerCase()}}const v=new Map;e["Z"]=a["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...c,justify:{type:String,default:null,validator:d},...g,alignContent:{type:String,default:null,validator:p},...m},render(t,{props:e,data:s,children:a}){let o="";for(const n in e)o+=String(e[n]);let r=v.get(o);if(!r){let t;for(t in r=[],f)f[t].forEach((s=>{const a=e[s],n=h(t,s,a);n&&r.push(n)}));r.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),v.set(o,r)}return t(e.tag,(0,n.ZP)(s,{staticClass:"row",class:r}),a)}})},1767:function(t,e,s){s.d(e,{ZP:function(){return r}});var a=s(5352);const n={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function o(t){const e={};for(const s of t.split(n.styleList)){let[t,o]=s.split(n.styleProp);t=t.trim(),t&&("string"===typeof o&&(o=o.trim()),e[(0,a._A)(t)]=o)}return e}function r(){const t={};let e,s=arguments.length;while(s--)for(e of Object.keys(arguments[s]))switch(e){case"class":case"directives":arguments[s][e]&&(t[e]=l(t[e],arguments[s][e]));break;case"style":arguments[s][e]&&(t[e]=i(t[e],arguments[s][e]));break;case"staticClass":if(!arguments[s][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[s][e].trim();break;case"on":case"nativeOn":arguments[s][e]&&(t[e]=u(t[e],arguments[s][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[s][e])break;t[e]||(t[e]={}),t[e]={...arguments[s][e],...t[e]};break;default:t[e]||(t[e]=arguments[s][e])}return t}function i(t,e){return t?e?(t=(0,a.TI)("string"===typeof t?o(t):t),t.concat("string"===typeof e?o(e):e)):t:e}function l(t,e){return e?t&&t?(0,a.TI)(t).concat(e):e:t}function u(...t){if(!t[0])return t[1];if(!t[1])return t[0];const e={};for(let s=2;s--;){const a=t[s];for(const t in a)a[t]&&(e[t]?e[t]=[].concat(a[t],e[t]):e[t]=a[t])}return e}}}]);
//# sourceMappingURL=247.c68935d9.js.map